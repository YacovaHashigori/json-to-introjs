require("./index.css");
var $iEn1Z$introjs = require("intro.js");

function $parcel$interopDefault(a) {
  return a && a.__esModule ? a.default : a;
}
function $parcel$defineInteropFlag(a) {
  Object.defineProperty(a, '__esModule', {value: true, configurable: true});
}
function $parcel$export(e, n, v, s) {
  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});
}

$parcel$defineInteropFlag(module.exports);

$parcel$export(module.exports, "default", () => $f5bfd4ce37214f4f$export$2e2bcd8739ae039);
const $9439ee6ea7d8bd70$export$ba43bf67f3d48107 = {
    autoplay: false,
    delay: 100,
    titleNumber: false,
    button: `<svg width=\"69\" height=\"30\" viewBox=\"0 0 69 30\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<rect x=\"1\" y=\"1\" width=\"66.3079\" height=\"28\" rx=\"14\" fill=\"white\"/>\n<path d=\"M15.7948 18C15.7348 18 15.6848 17.98 15.6448 17.94C15.6048 17.8933 15.5848 17.8433 15.5848 17.79C15.5848 17.7567 15.5882 17.7267 15.5948 17.7L17.9748 11.27C17.9948 11.1967 18.0348 11.1333 18.0948 11.08C18.1548 11.0267 18.2382 11 18.3448 11H19.6248C19.7315 11 19.8148 11.0267 19.8748 11.08C19.9348 11.1333 19.9748 11.1967 19.9948 11.27L22.3748 17.7C22.3815 17.7267 22.3848 17.7567 22.3848 17.79C22.3848 17.8433 22.3648 17.8933 22.3248 17.94C22.2848 17.98 22.2348 18 22.1748 18H21.1348C21.0348 18 20.9615 17.9767 20.9148 17.93C20.8682 17.8833 20.8382 17.84 20.8248 17.8L20.3948 16.68H17.5748L17.1448 17.8C17.1315 17.84 17.1015 17.8833 17.0548 17.93C17.0082 17.9767 16.9348 18 16.8348 18H15.7948ZM17.9448 15.39H20.0148L18.9848 12.51L17.9448 15.39ZM23.4959 18C23.4225 18 23.3625 17.9767 23.3159 17.93C23.2692 17.8833 23.2459 17.8233 23.2459 17.75V11.25C23.2459 11.1767 23.2692 11.1167 23.3159 11.07C23.3625 11.0233 23.4225 11 23.4959 11H24.6259C24.6992 11 24.7592 11.0233 24.8059 11.07C24.8525 11.1167 24.8759 11.1767 24.8759 11.25V17.75C24.8759 17.8233 24.8525 17.8833 24.8059 17.93C24.7592 17.9767 24.6992 18 24.6259 18H23.4959ZM26.6013 18C26.528 18 26.468 17.9767 26.4213 17.93C26.3747 17.8833 26.3513 17.8233 26.3513 17.75V11.25C26.3513 11.1767 26.3747 11.1167 26.4213 11.07C26.468 11.0233 26.528 11 26.6013 11H29.1113C29.778 11 30.3347 11.1067 30.7813 11.32C31.228 11.5267 31.568 11.8333 31.8013 12.24C32.0413 12.64 32.168 13.1367 32.1813 13.73C32.188 14.0233 32.1913 14.28 32.1913 14.5C32.1913 14.72 32.188 14.9733 32.1813 15.26C32.1613 15.88 32.038 16.3933 31.8113 16.8C31.5847 17.2067 31.2513 17.51 30.8113 17.71C30.3713 17.9033 29.8213 18 29.1613 18H26.6013ZM27.9413 16.71H29.1113C29.4447 16.71 29.718 16.66 29.9313 16.56C30.1447 16.46 30.3013 16.3033 30.4013 16.09C30.508 15.87 30.5647 15.5867 30.5713 15.24C30.578 15.0467 30.5813 14.8733 30.5813 14.72C30.588 14.5667 30.588 14.4133 30.5813 14.26C30.5813 14.1067 30.578 13.9367 30.5713 13.75C30.558 13.25 30.428 12.8833 30.1813 12.65C29.9413 12.41 29.568 12.29 29.0613 12.29H27.9413V16.71ZM33.6912 18C33.6178 18 33.5578 17.9767 33.5112 17.93C33.4645 17.8833 33.4412 17.8233 33.4412 17.75V11.25C33.4412 11.1767 33.4645 11.1167 33.5112 11.07C33.5578 11.0233 33.6178 11 33.6912 11H38.2212C38.2945 11 38.3545 11.0233 38.4012 11.07C38.4478 11.1167 38.4712 11.1767 38.4712 11.25V12.05C38.4712 12.1167 38.4478 12.1733 38.4012 12.22C38.3545 12.2667 38.2945 12.29 38.2212 12.29H34.9812V13.86H38.0012C38.0745 13.86 38.1345 13.8833 38.1812 13.93C38.2278 13.9767 38.2512 14.0367 38.2512 14.11V14.85C38.2512 14.9167 38.2278 14.9733 38.1812 15.02C38.1345 15.0667 38.0745 15.09 38.0012 15.09H34.9812V16.71H38.3012C38.3745 16.71 38.4345 16.7333 38.4812 16.78C38.5278 16.8267 38.5512 16.8867 38.5512 16.96V17.75C38.5512 17.8233 38.5278 17.8833 38.4812 17.93C38.4345 17.9767 38.3745 18 38.3012 18H33.6912Z\" fill=\"#EF6668\"/>\n<path d=\"M50.4264 9.00768C49.5698 8.9465 48.652 9.2524 48.0402 9.86426C47.3671 10.4761 47 11.3327 47 12.1893C47 12.8011 47.4895 13.2294 48.0402 13.2294C48.652 13.2294 49.0803 12.74 49.0803 12.1893C49.0803 11.8834 49.2027 11.5774 49.4474 11.3939C49.6922 11.2103 49.9369 11.088 50.2428 11.088C50.7935 11.1491 51.2218 11.5775 51.2218 12.067C51.2218 12.4341 51.0994 12.74 50.8547 12.9847C49.7533 13.9637 49.0803 15.3709 49.0803 16.7782V16.8394C49.0803 17.4513 49.5698 17.8796 50.1205 17.8796C50.6711 17.8796 51.1606 17.3901 51.1606 16.8394V16.7782C51.1606 15.9216 51.5277 15.1262 52.2008 14.5144C52.935 13.8413 53.3633 12.9235 53.3021 11.8834C53.3021 10.3537 52.0172 9.06887 50.4264 9.00768Z\" fill=\"#EF6668\"/>\n<path d=\"M50.2428 18.9197C49.6921 18.9197 49.2026 19.4092 49.2026 19.9598C49.2026 20.5105 49.6921 21 50.2428 21C50.7935 21 51.2829 20.5105 51.2829 19.9598C51.2829 19.4092 50.7935 18.9197 50.2428 18.9197Z\" fill=\"#EF6668\"/>\n<rect x=\"1\" y=\"1\" width=\"66.3079\" height=\"28\" rx=\"14\" stroke=\"#EF6668\" stroke-width=\"2\"/>\n</svg>\n`
};
const $9439ee6ea7d8bd70$export$164de7ab8df77ef0 = {
    color: "black"
};
const $9439ee6ea7d8bd70$export$e338e92a88877a75 = {
    element: "",
    steps: []
};
const $9439ee6ea7d8bd70$export$54e9baa5a9072bca = {
    intros: [],
    options: {
    },
    intro: $9439ee6ea7d8bd70$export$e338e92a88877a75
};
const $9439ee6ea7d8bd70$export$586b30dcaeecb901 = [];


let $33f730e842519ae9$export$a8ae2b7d78b1dfff;
(function($33f730e842519ae9$export$a8ae2b7d78b1dfff) {
    let Status1;
    (function(Status) {
        Status["Unloaded"] = "unloaded";
        Status["Loading"] = "loading";
        Status["Loaded"] = "loaded";
        Status["Error"] = "error";
    })(Status1 = $33f730e842519ae9$export$a8ae2b7d78b1dfff.Status || ($33f730e842519ae9$export$a8ae2b7d78b1dfff.Status = {
    }));
})($33f730e842519ae9$export$a8ae2b7d78b1dfff || ($33f730e842519ae9$export$a8ae2b7d78b1dfff = {
}));





const $d293d0d9f2670d3e$var$StorageService = {
    key: "JTI",
    read: function() {
        let storageString = localStorage.getItem(this.key);
        return storageString ? JSON.parse(storageString) : $9439ee6ea7d8bd70$export$586b30dcaeecb901;
    },
    write: function(state) {
        localStorage.setItem(this.key, JSON.stringify(state));
    },
    add: function(id) {
        let storage = this.read();
        if ($d293d0d9f2670d3e$export$123f3831ce004887(id)) {
            storage.push(id);
            this.write(storage);
        }
    }
};
const $d293d0d9f2670d3e$export$123f3831ce004887 = (id)=>{
    return !$d293d0d9f2670d3e$var$StorageService.read().includes(id);
};
var $d293d0d9f2670d3e$export$2e2bcd8739ae039 = $d293d0d9f2670d3e$var$StorageService;


async function $9a5998f7c71eb6ac$export$8192083f64c7bc77(url) {
    let content = null;
    try {
        let res = await fetch(url);
        if (res.ok) content = await res.json();
    } catch (e) {
        console.log(e);
    }
    return content;
}
const $9a5998f7c71eb6ac$export$86bb05624e1000e5 = (json, structure)=>{
    //   Object.entries(structure).forEach(([key, val]) => {
    //       if(!json[key]) return false;
    //       if(typeof val == "array") {
    //         if(json[key].length === 0) return false;
    //         return checkJsonStructure(json[key][0], structure[key][0]);
    //       }
    //   })
    return true;
};
const $9a5998f7c71eb6ac$export$9c5ae2f9096874a4 = (intros)=>{
    return intros.find((intro)=>document.querySelector(intro.element) ? intro : false
    );
};
const $9a5998f7c71eb6ac$export$27db50ed83a49c5a = (msg, soft = false)=>{
    let err = `Intro-creator: ${msg}`;
    return soft ? err : new Error(err);
};
const $9a5998f7c71eb6ac$export$32ed53e78850bc76 = ({ options: options , intro: intro  })=>{
    if (intro.options) // if current intro has specific options, overwrite default options
    options = {
        ...options,
        ...intro.options
    };
    return ($parcel$interopDefault($iEn1Z$introjs))(intro.element).setOptions({
        ...options,
        steps: intro.steps
    }).onexit(()=>{
        $d293d0d9f2670d3e$export$2e2bcd8739ae039.add(intro.element);
    }).start();
};
const $9a5998f7c71eb6ac$export$2e49b867b7a0847c = (theme)=>{
    Object.entries(theme).forEach(([prop, value])=>{
        document.documentElement.style.setProperty(`--introjs-${prop}`, value);
    });
};
const $9a5998f7c71eb6ac$export$90f8500472dfb23e = ()=>{
    let elt = document.createDocumentFragment();
    let btn = document.createElement("button");
    btn.innerText = "Start intro";
    btn.classList.add("jti-button");
    btn.addEventListener("click", ()=>$f5bfd4ce37214f4f$export$2e2bcd8739ae039.start()
    );
    elt.append(btn);
    document.body.appendChild(elt);
};
const $9a5998f7c71eb6ac$export$c4c73389d7ce666 = (options, intro)=>{
    Object.entries(options).forEach(([option, val])=>{
        switch(option){
            case "titleNumber":
                intro = {
                    ...intro,
                    steps: intro.steps.map((step, id)=>step.title ? {
                            ...step,
                            title: `<span style="font-size:0.8em">#</span>${id + 1} <span style="font-size:0.7em; margin: 0 4px">â€¢</span> ${step.title}`
                        } : step
                    )
                };
                break;
        }
    });
    return intro;
};



var $9f2952d6de05385b$exports = {};
$9f2952d6de05385b$exports = JSON.parse("{\"JTI\":{\"options\":{},\"theme\":{}},\"introjs\":{\"options\":{},\"intros\":[{\"element\":\"\",\"steps\":[{\"intro\":\"\"}]}]}}");



class $f5bfd4ce37214f4f$var$jsonToIntrojs {
    init(jsonPath) {
        this.status = $33f730e842519ae9$export$a8ae2b7d78b1dfff.Status.Loading;
        $9a5998f7c71eb6ac$export$8192083f64c7bc77(jsonPath).then((data)=>{
            if ($9a5998f7c71eb6ac$export$86bb05624e1000e5(data, (/*@__PURE__*/$parcel$interopDefault($9f2952d6de05385b$exports)))) {
                this.status = $33f730e842519ae9$export$a8ae2b7d78b1dfff.Status.Loaded;
                const { JTI: { options: options , theme: theme  } , introjs: { intros: intros , options: introjsOptions  } ,  } = data;
                let currentIntro = $9a5998f7c71eb6ac$export$9c5ae2f9096874a4(intros);
                if (currentIntro) {
                    this.options = {
                        ...this.options,
                        ...options
                    };
                    this.theme = {
                        ...this.theme,
                        ...theme
                    };
                    $9a5998f7c71eb6ac$export$2e49b867b7a0847c(this.theme);
                    this.data.options = introjsOptions;
                    this.data.intros = intros;
                    this.data.intro = $9a5998f7c71eb6ac$export$c4c73389d7ce666(this.options, currentIntro);
                    console.log(this.options);
                    if ($d293d0d9f2670d3e$export$123f3831ce004887(currentIntro.element)) {
                        if (this.options.autoplay) this.start();
                    }
                    if (this.options.button) $9a5998f7c71eb6ac$export$90f8500472dfb23e();
                }
            } else throw $9a5998f7c71eb6ac$export$27db50ed83a49c5a("Json is missing some mandatory properties, structure should be as follow : " + JSON.stringify((/*@__PURE__*/$parcel$interopDefault($9f2952d6de05385b$exports))));
        });
    }
    start() {
        if (this.status == $33f730e842519ae9$export$a8ae2b7d78b1dfff.Status.Loaded) $9a5998f7c71eb6ac$export$32ed53e78850bc76(this.data);
        else if (this.status == $33f730e842519ae9$export$a8ae2b7d78b1dfff.Status.Loading) {
            let loopID = 0;
            let awaitData = setInterval(()=>{
                if (loopID == 1) console.log($9a5998f7c71eb6ac$export$27db50ed83a49c5a("Delay can be increased", true));
                if (!this.data.intros.length) return loopID++;
                $9a5998f7c71eb6ac$export$32ed53e78850bc76(this.data);
                clearInterval(awaitData);
            }, this.options.delay);
        } else console.error($9a5998f7c71eb6ac$export$27db50ed83a49c5a("Method init must be called before start"));
    }
    constructor(){
        this.data // introjs
         = $9439ee6ea7d8bd70$export$54e9baa5a9072bca;
        this.options = $9439ee6ea7d8bd70$export$ba43bf67f3d48107;
        this.theme = $9439ee6ea7d8bd70$export$164de7ab8df77ef0;
        this.status = $33f730e842519ae9$export$a8ae2b7d78b1dfff.Status.Unloaded;
    }
}
var $f5bfd4ce37214f4f$export$2e2bcd8739ae039 = new $f5bfd4ce37214f4f$var$jsonToIntrojs();


